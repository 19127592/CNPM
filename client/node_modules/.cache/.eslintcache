[{"D:\\New\\CNPM\\client\\src\\index.js":"1","D:\\New\\CNPM\\client\\src\\App.js":"2","D:\\New\\CNPM\\client\\src\\GlobalState.js":"3","D:\\New\\CNPM\\client\\src\\components\\header\\Header.js":"4","D:\\New\\CNPM\\client\\src\\components\\mainpage\\Pages.js":"5","D:\\New\\CNPM\\client\\src\\components\\mainpage\\products\\Products.js":"6","D:\\New\\CNPM\\client\\src\\components\\mainpage\\auth\\Login.js":"7","D:\\New\\CNPM\\client\\src\\components\\mainpage\\productDetail\\ProductDetail.js":"8","D:\\New\\CNPM\\client\\src\\components\\mainpage\\auth\\Register.js":"9","D:\\New\\CNPM\\client\\src\\components\\mainpage\\cart\\Cart.js":"10","D:\\New\\CNPM\\client\\src\\api\\ProductsAPI.js":"11","D:\\New\\CNPM\\client\\src\\api\\UserAPI.js":"12","D:\\New\\CNPM\\client\\src\\components\\mainpage\\other\\404\\404.js":"13","D:\\New\\CNPM\\client\\src\\components\\mainpage\\productItem\\ProductItem.js":"14","D:\\New\\CNPM\\client\\src\\components\\mainpage\\other\\loading\\Loading.js":"15","D:\\New\\CNPM\\client\\src\\components\\mainpage\\productItem\\BtnRender.js":"16"},{"size":185,"mtime":1636901429684,"results":"17","hashOfConfig":"18"},{"size":504,"mtime":1636901429670,"results":"19","hashOfConfig":"18"},{"size":891,"mtime":1636901429671,"results":"20","hashOfConfig":"18"},{"size":2207,"mtime":1636906483508,"results":"21","hashOfConfig":"18"},{"size":798,"mtime":1636901429675,"results":"22","hashOfConfig":"18"},{"size":759,"mtime":1636901429683,"results":"23","hashOfConfig":"18"},{"size":2076,"mtime":1636907631927,"results":"24","hashOfConfig":"18"},{"size":1809,"mtime":1636901429680,"results":"25","hashOfConfig":"18"},{"size":2385,"mtime":1636907858950,"results":"26","hashOfConfig":"18"},{"size":2639,"mtime":1636908836536,"results":"27","hashOfConfig":"18"},{"size":433,"mtime":1636901429671,"results":"28","hashOfConfig":"18"},{"size":1695,"mtime":1636901429672,"results":"29","hashOfConfig":"18"},{"size":171,"mtime":1636901429678,"results":"30","hashOfConfig":"18"},{"size":561,"mtime":1636901429682,"results":"31","hashOfConfig":"18"},{"size":797,"mtime":1636901429679,"results":"32","hashOfConfig":"18"},{"size":643,"mtime":1636901429681,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"8enb3c",{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"36"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"36"},"D:\\New\\CNPM\\client\\src\\index.js",[],["73","74"],"D:\\New\\CNPM\\client\\src\\App.js",[],"D:\\New\\CNPM\\client\\src\\GlobalState.js",["75"],"import React, {createContext,useState,useEffect} from 'react'\r\nimport ProductsAPI from './api/ProductsAPI'\r\nimport axios from 'axios'\r\nimport UserAPI from './api/UserAPI'\r\n\r\nexport const GlobalState = createContext()\r\n\r\nexport const DataProvider = ({children}) => {\r\n    const [token,setToken] = useState(false)\r\n    \r\n    const refreshToken = async () => {\r\n        const res = await axios .get('/user/refresh_token')\r\n        setToken(res.data.accesstoken)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const checkLogin = localStorage.getItem('firstTime_Login')\r\n        if (checkLogin) refreshToken()\r\n        \r\n    }, [])\r\n\r\n    const state = {\r\n        token: [token,setToken],\r\n        productsAPI: ProductsAPI(),\r\n        userAPI: UserAPI(token)\r\n    }\r\n    return (\r\n        \r\n        <GlobalState.Provider value={state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n}","D:\\New\\CNPM\\client\\src\\components\\header\\Header.js",["76","77","78","79","80","81","82","83","84"],"import React, { useState, useContext } from \"react\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport Menu from \"./menu.svg\";\r\nimport Close from \"./close.svg\";\r\nimport Cart from \"./cart.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nexport default function Header() {\r\n  const state = useContext(GlobalState);\r\n  const [Logged, isLogged] = state.userAPI.isLogged;\r\n  const [Admin, isAdmin] = state.userAPI.isAdmin;\r\n  const [Seller, isSeller] = state.userAPI.isSeller;\r\n  const [cart] = state.userAPI.cart;\r\n  const sellerControl = () => {\r\n    return (\r\n      <>\r\n        <li>\r\n          <Link to=\"/create_product\">Create product</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/category\">Category</Link>\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const adminControl = () => {\r\n    return (\r\n      <>\r\n        <li>\r\n          <Link to=\"/create_product\">Create product</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/category\">Category</Link>\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const loggedControl = () => {\r\n    return (\r\n      <>\r\n        <li>\r\n          <Link to=\"/history\">History</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/\">Log out</Link>\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n  console.log(state);\r\n  return (\r\n    //FE (Thu)\r\n    <header>\r\n      <div className=\"menu\">\r\n        <img src={Menu} alt=\"\" width=\"30\" />\r\n      </div>\r\n      <div className=\"logo\">\r\n        <h1>\r\n          <Link to=\"/\">{Admin ? \"Admin\" : \"rookieSE\"}</Link>\r\n        </h1>\r\n      </div>\r\n      <div class=\"search-box\">\r\n        <form>\r\n          <input type=\"text\" name=\"\" placeholder=\"Search...\" />\r\n          <input type=\"submit\" name=\"\" value=\"Search\" />\r\n        </form>\r\n      </div>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/\">Products</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/login\">Login & Register</Link>\r\n        </li>\r\n        <li>\r\n          <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\r\n        </li>\r\n      </ul>\r\n      <div className=\"cart-icon\">\r\n        <span>{cart.length}</span>\r\n        <Link to=\"/cart\">\r\n          <img src={Cart} alt=\"\" width=\"30\" />\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","D:\\New\\CNPM\\client\\src\\components\\mainpage\\Pages.js",[],"D:\\New\\CNPM\\client\\src\\components\\mainpage\\products\\Products.js",[],"D:\\New\\CNPM\\client\\src\\components\\mainpage\\auth\\Login.js",["85","86"],"D:\\New\\CNPM\\client\\src\\components\\mainpage\\productDetail\\ProductDetail.js",["87"],"import React,{useContext,useState,useEffect} from 'react'\r\nimport { GlobalState } from '../../../GlobalState'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport ProductItem from '../productItem/ProductItem'\r\nexport default function ProductDetail() {\r\n    const params = useParams()\r\n    const state = useContext(GlobalState)\r\n    const [products] = state.productsAPI.products\r\n    const [ProductDetail,setProductDetail] = useState([])\r\n\r\n    useEffect(() => {\r\n        if(params.id){\r\n            products.forEach(product => {\r\n                if(product._id === params.id) setProductDetail(product)\r\n            })\r\n        }\r\n    },[params.id,products])\r\n    \r\n    if(ProductDetail.length === 0) return null \r\n    \r\n    return (\r\n        <>\r\n        //FE (Thu)\r\n        <div className='detail'>\r\n            <img src={ProductDetail.images.url} alt=''/>\r\n            <div className='box-detail'>\r\n                <div className='row'>\r\n                    <h2>{ProductDetail.title}</h2>\r\n                    <span>#{ProductDetail.product_id}</span>\r\n                </div>\r\n                <span>${ProductDetail.price}</span>\r\n                <p>{ProductDetail.description}</p>\r\n                <p>{ProductDetail.content}</p>\r\n                <p>Sold: {ProductDetail.sold}</p>\r\n                <Link to='/cart' className='cart'>Buy now</Link>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <h2>Related Products</h2>\r\n            <div className='products'>\r\n                {\r\n                    products.map(product => {\r\n                        return product.category === ProductDetail.category\r\n                        ? <ProductItem key={product._id} product={product}/> : null\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    </>\r\n    )\r\n}\r\n","D:\\New\\CNPM\\client\\src\\components\\mainpage\\auth\\Register.js",["88","89","90","91"],"D:\\New\\CNPM\\client\\src\\components\\mainpage\\cart\\Cart.js",["92","93","94","95"],"D:\\New\\CNPM\\client\\src\\api\\ProductsAPI.js",[],"D:\\New\\CNPM\\client\\src\\api\\UserAPI.js",["96"],"import axios from 'axios'\r\nimport React,{useState, useEffect} from 'react'\r\n\r\nexport default function UserAPI(token) {\r\n    const [Logged, isLogged] = useState(false)\r\n    const [Admin,isAdmin] = useState(false)\r\n    const [Seller,isSeller] = useState(false)\r\n    const [cart,setCart] = useState([])\r\n    useEffect(()=> {\r\n        console.log(\"Working\")\r\n        if(token){\r\n            const getUser = async () => {\r\n                try {\r\n                    const res = await axios.get('/user/infor',{\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    isLogged(true)\r\n                    if(res.data.role === 1) isAdmin(true)\r\n                    if(res.data.role === 2) isSeller(true)\r\n                    \r\n                    setCart(res.data.cart)\r\n                } catch (err) {\r\n                    alert(err.response.data.msg)\r\n                }\r\n            }\r\n            getUser()\r\n        }\r\n    },[token])\r\n\r\n    const addCart = async(product) => {\r\n        if(!Logged) return alert('Please login to continue')\r\n\r\n        const check = cart.every(item =>{\r\n            return item._id !== product._id\r\n        })\r\n        if(check){\r\n            setCart([...cart,{...product, quantity:1}])\r\n            await axios.patch('/user/addCart',{cart:[...cart,{...product, quantity:1}]},{\r\n                headers: {Authorization: token}\r\n            })\r\n        }else{\r\n            alert(\"This product has been added to cart\")\r\n        }\r\n    }\r\n\r\n    return {\r\n        isLogged: [Logged,isLogged],\r\n        isAdmin: [Admin, isAdmin],\r\n        isSeller: [Seller,isSeller],\r\n        cart: [cart],\r\n        addToCart:addCart\r\n    }\r\n}\r\n","D:\\New\\CNPM\\client\\src\\components\\mainpage\\other\\404\\404.js",[],"D:\\New\\CNPM\\client\\src\\components\\mainpage\\productItem\\ProductItem.js",["97"],"import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport BtnRender from './BtnRender'\r\nfunction ProductItem({product}) {\r\n    return (\r\n        <div className='product-card'>\r\n            <img src={product.images.url} alt=\"\" />\r\n            <div className='product-box'>\r\n                <h2 title={product.title}>{product.title}</h2>\r\n                <span>${product.price}</span>\r\n                <p>{product.description}</p>\r\n            </div>\r\n            <BtnRender product={product}/>\r\n        </div>\r\n    )\r\n}\r\nexport default ProductItem","D:\\New\\CNPM\\client\\src\\components\\mainpage\\other\\loading\\Loading.js",[],"D:\\New\\CNPM\\client\\src\\components\\mainpage\\productItem\\BtnRender.js",["98"],"import React,{useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { GlobalState } from '../../../GlobalState'\r\nfunction BtnRender({product}) {\r\n    const state = useContext(GlobalState)\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const addToCart = state.userAPI.addToCart\r\n\r\n    return (\r\n        <div className='row-btn'>\r\n                <Link id=\"btn-buy\" to=\"#!\" onClick={() => addToCart(product)}>\r\n                    Buy\r\n                </Link>\r\n                <Link id=\"btn-view\" to={'/detail/'+product._id}>\r\n                    View\r\n                </Link>\r\n        </div>\r\n)\r\n}\r\nexport default BtnRender",{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":12,"column":27,"nodeType":"105","messageId":"106","endLine":12,"endColumn":37,"fix":"107"},{"ruleId":"108","severity":1,"message":"109","line":1,"column":17,"nodeType":"110","messageId":"111","endLine":1,"endColumn":25},{"ruleId":"108","severity":1,"message":"112","line":9,"column":10,"nodeType":"110","messageId":"111","endLine":9,"endColumn":16},{"ruleId":"108","severity":1,"message":"113","line":9,"column":18,"nodeType":"110","messageId":"111","endLine":9,"endColumn":26},{"ruleId":"108","severity":1,"message":"114","line":10,"column":17,"nodeType":"110","messageId":"111","endLine":10,"endColumn":24},{"ruleId":"108","severity":1,"message":"115","line":11,"column":10,"nodeType":"110","messageId":"111","endLine":11,"endColumn":16},{"ruleId":"108","severity":1,"message":"116","line":11,"column":18,"nodeType":"110","messageId":"111","endLine":11,"endColumn":26},{"ruleId":"108","severity":1,"message":"117","line":13,"column":9,"nodeType":"110","messageId":"111","endLine":13,"endColumn":22},{"ruleId":"108","severity":1,"message":"118","line":26,"column":9,"nodeType":"110","messageId":"111","endLine":26,"endColumn":21},{"ruleId":"108","severity":1,"message":"119","line":39,"column":9,"nodeType":"110","messageId":"111","endLine":39,"endColumn":22},{"ruleId":"108","severity":1,"message":"120","line":6,"column":10,"nodeType":"110","messageId":"111","endLine":6,"endColumn":18},{"ruleId":"108","severity":1,"message":"121","line":6,"column":20,"nodeType":"110","messageId":"111","endLine":6,"endColumn":31},{"ruleId":"122","severity":1,"message":"123","line":22,"column":11,"nodeType":"124","messageId":"125","endLine":24,"endColumn":9},{"ruleId":"108","severity":1,"message":"126","line":5,"column":10,"nodeType":"110","messageId":"111","endLine":5,"endColumn":14},{"ruleId":"108","severity":1,"message":"127","line":5,"column":16,"nodeType":"110","messageId":"111","endLine":5,"endColumn":23},{"ruleId":"108","severity":1,"message":"120","line":7,"column":10,"nodeType":"110","messageId":"111","endLine":7,"endColumn":18},{"ruleId":"108","severity":1,"message":"121","line":7,"column":20,"nodeType":"110","messageId":"111","endLine":7,"endColumn":31},{"ruleId":"108","severity":1,"message":"128","line":3,"column":10,"nodeType":"110","messageId":"111","endLine":3,"endColumn":19},{"ruleId":"108","severity":1,"message":"129","line":4,"column":8,"nodeType":"110","messageId":"111","endLine":4,"endColumn":16},{"ruleId":"108","severity":1,"message":"130","line":9,"column":17,"nodeType":"110","messageId":"111","endLine":9,"endColumn":25},{"ruleId":"108","severity":1,"message":"131","line":16,"column":9,"nodeType":"110","messageId":"111","endLine":16,"endColumn":24},{"ruleId":"108","severity":1,"message":"132","line":2,"column":8,"nodeType":"110","messageId":"111","endLine":2,"endColumn":13},{"ruleId":"108","severity":1,"message":"133","line":2,"column":9,"nodeType":"110","messageId":"111","endLine":2,"endColumn":13},{"ruleId":"108","severity":1,"message":"114","line":6,"column":12,"nodeType":"110","messageId":"111","endLine":6,"endColumn":19},"no-native-reassign",["134"],"no-negated-in-lhs",["135"],"no-whitespace-before-property","Unexpected whitespace before property get.","MemberExpression","unexpectedWhitespace",{"range":"136","text":"137"},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Logged' is assigned a value but never used.","'isLogged' is assigned a value but never used.","'isAdmin' is assigned a value but never used.","'Seller' is assigned a value but never used.","'isSeller' is assigned a value but never used.","'sellerControl' is assigned a value but never used.","'adminControl' is assigned a value but never used.","'loggedControl' is assigned a value but never used.","'password' is assigned a value but never used.","'setPassword' is assigned a value but never used.","react/jsx-no-comment-textnodes","Comments inside children section of tag should be placed inside braces","Literal","putCommentInBraces","'name' is assigned a value but never used.","'setName' is assigned a value but never used.","'useParams' is defined but never used.","'ReactDOM' is defined but never used.","'setTotal' is assigned a value but never used.","'quantityControl' is assigned a value but never used.","'React' is defined but never used.","'Link' is defined but never used.","no-global-assign","no-unsafe-negation",[390,392],"."]